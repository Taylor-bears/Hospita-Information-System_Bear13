## 问题概述
- 页面在进入某些路由时持续显示“加载中”，无法进入目标页。
- 关键可疑点：路由组件导入与导出不一致导致运行时错误，从而阻塞渲染。

## 诊断发现
- 路由对患者仪表板使用了默认导入：`src/router/index.tsx:6` → `import PatientDashboard from '../pages/patient/PatientDashboard'`
- 实际页面仅导出了命名组件：`src/pages/patient/PatientDashboard.tsx:25,272` → `export const PatientDashboard: React.FC = () => { ... }`（没有 `export default`）。
- 由此在渲染 `<PatientDashboard />` 时得到 `undefined`，典型表现为 React 报错“Element type is invalid”，页面空白或持续加载。
- 代码库存在重复的“患者仪表板”文件：
  - `src/pages/patient/PatientDashboard.tsx`（命名导出）
  - `src/pages/PatientDashboard.tsx`（默认导出）
  - 该重复易造成误用路径与导出形式不一致。
- 认证导航逻辑：`src/App.tsx:17-48` 中 `checkAuth` 会在未登录时重定向到 `/login`，并以本地状态 `isAuthReady` 控制初始“加载中...”占位；该逻辑本身无明显无限循环，但如果路由渲染阶段抛错，将表现为无法进入页面。
- Supabase 客户端配置硬编码在 `src/api/supabase.ts:3-6`，若网络不可达会导致列表类页面的 `loading` 长时间为真，但不会阻断路由渲染本身；优先修正路由导入问题。

## 解决方案
1. 修正患者仪表板导入方式
- 将 `src/router/index.tsx` 对患者仪表板的导入改为命名导入：
  - `import { PatientDashboard } from '../pages/patient/PatientDashboard'`
- 或（备选）在 `src/pages/patient/PatientDashboard.tsx` 增加 `export default PatientDashboard`，但为保持一致性，推荐统一路由按实际导出形式导入。

2. 统一路由导入导出规范
- 对所有路由目标组件逐一核对导出形式，并调整导入：
  - 使用默认导入的：`AiConsultPage`、`PaymentHistoryPage` 等应保持 `export default`。
  - 使用命名导入的：`DoctorListPage`、`MyAppointmentsPage`、`MyPrescriptionsPage`、`DoctorAppointmentsPage`、`DoctorPrescriptionsPage`、`DoctorPatientsPage`、`AdminUsersPage`、`AdminSchedulePage`、`AdminMedicinesPage` 等保持 `export const ...` 并在路由使用 `{ ... }` 导入。
- 去除或标注重复页面，避免误导（尤其是两个 `PatientDashboard`）。

3. 添加最小化错误保护
- 在 `src/App.tsx` 的 `<RouterView />` 外增加一个轻量级错误边界，捕获路由组件运行时错误并给出明确提示（防止再次出现“白屏/持续加载”的不透明状态）。

4. 网络与资源验证
- 确认前端资源加载：`index.css` 与 `antd/dist/reset.css` 正常加载（已在 `src/main.tsx:5-6`）。
- 通过一条最小 Supabase 查询（如 `from('appointments').select('id').limit(1)`）快速验证连通性；若失败，在页面上以非阻塞方式提示“数据不可用”。

## 验证计划
- 本地启动前端（`http://localhost:5173`）和后端（`http://localhost:8000`）。
- 路由验证：
  - 未登录访问任何受限页应跳转 `/login`；登录后按角色跳转对应仪表板。
  - 进入 `/patient/dashboard` 正常渲染并显示统计与列表，无控制台报错。
- Console/Network 检查：
  - Console 无 `Element type is invalid` 等红色错误。
  - Network 请求对 `appointments`、`prescriptions` 返回 200/数据结构正确。
- 资源核对：所有 JS/CSS 均 200 加载，无 404。
- 性能采样：记录 FCP/LCP/TBT 基线，确认无明显长任务阻塞。
- 兼容性测试：Chrome/Edge/Firefox 打开关键路由无异常；移动端模拟（DevTools）能正常进入。

## 风险与回滚
- 路由导入修正为纯前端改动，风险极低；如有问题，可按文件导出形式快速切换导入风格或回退。

## 交付内容
- 修正后的路由文件
- 可选的错误边界组件
- 验证报告（Console/Network 截图、指标与结论）

请确认以上方案，我将据此执行修改、运行并提交详细验证报告。